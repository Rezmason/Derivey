<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="./reset.css"/>
        <style>
            body {
                font-family: sans-serif;
                font-weight: bolder;
                color: white;
            }

            canvas {
                display: block; /* TODO: make specific to three.js canvas */
            }

            canvas#renderer {
                image-rendering: pixelated;
            }

            div#messageBox {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                overflow: hidden;
                display: block;
            }

            div.message {
                padding: 10px;
            }
        </style>
    </head>
    <body>
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/96/three.js"></script> -->
        <script src="./lib/three.js"></script>
        <!-- <script src="./lib/three.min.js"></script> -->
        <script src="./lib/BufferGeometryUtils.js"></script>

        <script src="./js/utils.js"></script>
        <script src="./js/RoadLineStyle.js"></script>

        <script src="./js/RoadPath.js"></script>
        <script src="./js/Level.js"></script>
        <script src="./js/DeepDarkNight.js"></script>
        <script src="./js/Tunnel.js"></script>
        <script src="./js/City.js"></script>
        <script src="./js/IndustrialZone.js"></script>
        <script src="./js/WarpGate.js"></script>
        <script src="./js/Spectre.js"></script>

        <script src="./js/TestLevel.js"></script>

        <script src="./js/Car.js"></script>
        <script src="./js/Dashboard.js"></script>
        <script src="./js/Screen.js"></script>
        <script src="./js/Drivey.js"></script>

        <script>
            document.addEventListener("DOMContentLoaded",function(event) {
                const urlParams = new Map(window.location.href.replace(/^[^\?]+\?/, "").split("&").map(pair => pair.split("=")));
                const getParam = (key, defaultValue) => urlParams.has(key) ? urlParams.get(key) : defaultValue;
                new Drivey(getParam("level", "industrial"));
            });
        </script>
    </body>
</html>
